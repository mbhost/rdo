function hasFlash(){if(null!==navigator.plugins&&0<navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return navigator.plugins["Shockwave Flash"]&&!0;if(~navigator.userAgent.toLowerCase().indexOf("webtv"))return!0;if(~navigator.appVersion.indexOf("MSIE")&&!~navigator.userAgent.indexOf("Opera"))try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&!0}catch(e){}return!1}var hasMSE="MediaSource"in window,hasStorage=function(){try{return localStorage.setItem("s","s"),localStorage.removeItem("s"),!0}catch(e){return!1}}();function addVolumeSider(){$("#radio-slider").rangeslider({polyfill:!1,onInit:function(){$(this).attr("step",bowser.ios?100:10)},onSlide:function(e,t){changeVolume(t)}}).val(volume).change()}function changeVolume(e){return 0===e?(window.volume_unmute=getVolume("volume"),volume_unmute=0<volume_unmute?volume_unmute:bowser.ios?100:50,"boolean"==typeof hasStorage&&hasStorage&&localStorage.setItem("volume_unmute",volume_unmute),soundManager.muted||(setButtonMute(),bowser.ios&&bowser.osversion.split(".")[0]<10?soundManager.pause("webradio"):soundManager.mute())):soundManager.muted&&(setButtonStop(),setButtonUnMute(),bowser.ios&&bowser.osversion.split(".")[0]<10?soundManager.resume("webradio"):soundManager.unmute()),"boolean"==typeof hasStorage&&hasStorage&&localStorage.setItem("volume",e),soundManager.setVolume(e),e}function getPlayer(e,a){$.getJSON(webradioConfig.urlApi+"data/streams/"+webradioConfig.domainID+"/"+e).done(function(e){if(0!==e.length){if(a&&($("#radio-logo").attr({src:webradioConfig.urlStatic+"images/logos/"+webradioConfig.slugDomain+"/"+e.station.name+".png",alt:e.station.title}),$("#radio-title").text(e.station.title),e.station.url?$("#radio-link").attr("href",e.station.url).show():$("#radio-link").attr("href","#").hide(),$("#radio-track").removeClass("loading")),!0===e.station.usePopup)var t={HTML:[!0,""]};else t=getMedia();var o=$.map(t,function(e,t){return $.map(e,function(e){return""!==e?t+"|"+e.toString():null})});e.streams=$.grep(e.streams,function(e){return e.mediaType in t==!0&&-1!==$.inArray(e.isContainer,t[e.mediaType])}),bowser.ios&&11<=bowser.osversion.split(".")[0]&&(e.streams=$.grep(e.streams,function(e){return!(!0===e.isContainer&&-1!==e.url.indexOf(".pls"))})),e.streams.sort(function(e,t){return $.inArray(e.mediaType+"|"+e.isContainer,o)<$.inArray(t.mediaType+"|"+t.isContainer,o)?-1:1}),e.stream=e.streams[0],void 0===e.stream?e.stream=[]:!0===e.station.usePopup||"HTML"===e.stream.mediaType&&"https:"===location.protocol&&new RegExp("^http:").test(e.stream.url)?e.stream.usePopup=1:"HTML"===e.stream.mediaType?e.stream.useIframe=1:"Windows"===e.stream.mediaType?e.stream.useWindows=1:e.stream.usePlayer=1,$.extend(webradioConfig,e),$("#radio-controls").html(templates.player.render(webradioConfig)).promise().done(function(){$("#radio-controls").removeClass("loading"),"usePlayer"in webradioConfig.stream&&playStreamWithSM({debugMode:webradioConfig.debugMode,streamMime:webradioConfig.stream.mime,streamUrl:webradioConfig.stream.url})})}else window.location.hash?window.location.href=window.location.href.split("#").shift():"/"!==window.location.pathname&&(window.location.href="/")}).fail(function(){window.location.hash?window.location.href=window.location.href.split("#").shift():"/"!==window.location.pathname&&(window.location.href="/")})}function getVolume(e){return volume="boolean"==typeof hasStorage&&hasStorage?localStorage.getItem(e):100,volume=parseInt(volume),volume=$.isNumeric(volume)&&0<=volume&&volume<=100?volume:100,volume}function playStreamWithSM(t){window.soundManager=new SoundManager,window.volume=getVolume("volume");var a,o=0,e={"application/x-mpegURL":"m3u8","application/dash+xml":"mpd","audio/x-mpegurl":"m3u","audio/x-scpls":"pls"};for(var n in e)soundManager.audioFormats[e[n]]={type:[n],required:!1};t.preferFlash=!("audio/mp4"!==t.streamMime&&(!bowser.msie||"/;"!==t.streamUrl.slice(-2)&&!new RegExp("/stream/\\d+/$").test(t.streamUrl))),t.streamUrl=t.streamUrl.split("|"),soundManager.setup({url:(bowser.chrome||bowser.safari?"/":webradioConfig.urlStatic.replace("https://","//"))+"swf/20170601/",debugMode:t.debugMode,debugFlash:t.debugMode,flashVersion:9,forceUseGlobalHTML5Audio:!0,flashLoadTimeout:1e4,preferFlash:t.preferFlash,useHighPerformance:!0,useHTML5Audio:!t.preferFlash,onready:function(){t.streamMime in e&&soundManager.hasHTML5&&!soundManager.html5[e[t.streamMime]]&&(soundManager.html5[t.streamMime]=soundManager.html5[e[t.streamMime]]=!0,soundManager.defaultOptions.autoLoad=soundManager.defaultOptions.autoPlay=!1),!1===(a=soundManager.createSound({id:"webradio",serverURL:1<t.streamUrl.length?t.streamUrl[0]:null,url:t.streamUrl[t.streamUrl.length-1],type:t.streamMime})).options.autoPlay&&a.isHTML5&&a.options.type in e&&("boolean"==typeof hasMSE&&hasMSE?(a._a.volume=volume/100,"application/x-mpegURL"===a.options.type?$.getScript("https://cdnjs.cloudflare.com/ajax/libs/hls.js/"+webradioConfig.hlsJs.version+"/hls.light.min.js").done(function(){var o=new Hls({debug:!!t.debugMode});o.attachMedia(a._a),o.on(Hls.Events.MEDIA_ATTACHED,function(){o.loadSource(a.url)}),o.on(Hls.Events.MANIFEST_PARSED,function(){playWithPromise(a)}),o.on(Hls.Events.ERROR,function(e,t){t.fatal&&(o.destroy(),setButtonError("Fatal error in hls.js"))})}).fail(function(){setButtonError("Failed to load hls.js")}):"application/dash+xml"===a.options.type&&$.getScript("https://cdnjs.cloudflare.com/ajax/libs/dashjs/"+webradioConfig.dashJs.version+"/dash.mediaplayer.min.js").done(function(){var e=dashjs.MediaPlayer().create();e.getDebug().setLogToBrowserConsole(t.debugMode),e.initialize(a._a,a.url,!1),e.on(dashjs.MediaPlayer.events.MANIFEST_LOADED,function(){e.play(),playWithPromise(a)}),e.on(dashjs.MediaPlayer.events.ERROR,function(){e.reset(),setButtonError("Fatal error in dash.js")})}).fail(function(){setButtonError("Failed to load dash.js")})):setButtonError("No Media Source Extensions support"))},ontimeout:function(){setButtonError("Failed to init SoundManager")},defaultOptions:{autoLoad:!0,autoPlay:!0,multiShot:!1,onbufferchange:function(e){1===e&&0===o&&this.isHTML5&&"object"==typeof this._a&&this._a.addEventListener("stalled",function(){(null==a._a||(null==a._a.networkState||2!==a._a.networkState)&&(null==a._a.readyState||0<a._a.readyState))&&a._onerror(0,"Failed to play stream because of data is unexpectedly not forthcoming")}),0!==e||1!==this.readyState&&3!==this.readyState||(setButtonStop(),o=1,"object"==typeof this.options?this.options.onbufferchange=this.options.onload=this._iO.onbufferchange=this._iO.onload=function(){}:this.onbufferchange=this.onload=function(){})},onerror:function(e,t){if(4!==e&&2!==o)o++,soundManager.reboot();else{switch(e){case 1:t="Stream playback aborted";break;case 2:t="Failed to download stream";break;case 3:t="Failed to decode stream";break;case 4:t="Failed to load stream because of a server error or an unsupported format";break;default:t="Error code "+e+" ("+t+")"}setButtonError(t)}},onfailure:function(){this.onerror(0,"Failed to play stream using Flash")},onload:function(e){this.isHTML5&&this._a.addEventListener("playing",function e(){a.options.isHTML5=a.isHTML5=!0,a.options.playState=a.playState=1,a.options.readyState=a.readyState=3,a.options.onbufferchange(0),this.removeEventListener("playing",e)})},onplay:function(){this.isHTML5&&(this._a.title=webradioConfig.station.title,playWithPromise(this))},volume:volume}}),!0===t.preferFlash&&"function"==typeof hasFlash&&!1===hasFlash()?setButtonFlash():(addVolumeSider(),soundManager.beginDelayedInit())}function playWithPromise(t){var e=t._a.play();void 0!==e?e.then(function(){t.options.autoPlay||(t.options.readyState=t.readyState=3,t.options.onbufferchange(0))}).catch(function(e){0===e.toString().lastIndexOf("NotAllowedError",0)&&(t.unload(),setButtonPlay())}):!0!==t._a.autoplay&&(t._a.autoplay=!0,bowser.ios&&(t.unload(),setButtonPlay()))}function setButtonMute(){$("#radio-sound").attr("src",webradioConfig.urlStatic+"images/icon-sound-off.png").data("state","off")}function setButtonUnMute(){$("#radio-sound").attr("src",webradioConfig.urlStatic+"images/icon-sound-on.png").data("state","on")}function setPlayerButton(e,t,o){$("#radio-button").attr({alt:webradioConfig.txt[e],class:e,src:webradioConfig.urlStatic+"images/icon-"+e+"."+("string"==typeof t?t:"png"),title:"string"==typeof o?o:""})}function setButtonError(e){setPlayerButton("error","png","string"==typeof e?e:""),gtag("event","Error",{event_category:"Player"})}function setButtonFlash(){soundManager.disable(),$("#radio-slider").rangeslider("destroy"),$("#radio-controls").html('<a href="https://get.adobe.com/flashplayer/" rel="nofollow noopener" target="_blank"><img class="btn-flash" src="'+webradioConfig.urlStatic+'images/icon-flash.png" alt="Flash" height="41" width="160"></a>')}function setButtonLoad(){setPlayerButton("load","gif")}function setButtonPlay(){setPlayerButton("play")}function setButtonStop(){setPlayerButton("stop")}function randomElement(e){return e[Math.floor(e.length*Math.random())]}function searchQuery(e,t){if(!(-1<["59063"].indexOf(t)))return t?void e.search(t,{facetFilters:["country_code: "+webradioConfig.countryCode],hitsPerPage:42},function(e,t){if(e)return console.log(e.message),console.log(e.debugData),!1;searchCallback(t)}):($("#search-results").empty(),void $("#content-area").show())}function searchCallback(e){var o="";$.each(e.hits,function(e,t){o+='<li><span><a href="'+t.url+'" title="'+t.title+'"><img class="cover" src="'+t.image+'" alt="'+t.title+'" height="66" width="96"></a></span></li>'});for(var t=e.hits.length;t<42;t++)o+='<li class="hidden"><span><img class="img" src="'+webradioConfig.urlStatic+'images/radio.png" alt="" height="66" width="96"></span></li>';o='<div class="radio-section"><h2>'+webradioConfig.txt[0===e.hits.length?"search_none":"search_for"].replace("%s",$("<div>").text('"'+e.query+'"').html())+'</h2><ul id="radios">'+o+"</ul></div>",$("#search-results").html(o),$("#content-area").hide(),sessionStorage.setItem("search-results",o)}function getMedia(){return bowser.mobile||bowser.tablet?bowser.android?{MP3:["",!1],AAC:["",!1],OGG:["",!1],WebM:["",!1],HLS:[!0,""],HTML:[!0,""]}:bowser.ios?{HLS:[!0,""],MP3:[!0,!1],AAC:[!0,!1],HTML:[!0,""]}:{MP3:["",!1],HTML:[!0,""]}:bowser.chrome||bowser.firefox?{MP3:["",!1],AAC:["",!1],OGG:["",!1],WebM:["",!1],Flash:[!0,!1],HLS:[!("boolean"!=typeof hasMSE||!hasMSE)||"",""],"MPEG-DASH":[!("boolean"!=typeof hasMSE||!hasMSE)||"",""],HTML:[!0,""]}:bowser.msedge?{MP3:["",!1],AAC:["",!1],OGG:["",!(17<=bowser.version)&&""],WebM:["",!1],HLS:[!0,""],"MPEG-DASH":[!0,""],Flash:[!0,!1],HTML:[!0,""]}:bowser.safari?{HLS:[!0,""],MP3:["",!1],AAC:["",!1],Flash:[!0,!1],"MPEG-DASH":[!0,""],Windows:[!0,!1],HTML:[!0,""]}:{MP3:["",!1],Flash:[!0,!1],HLS:[!("boolean"!=typeof hasMSE||!hasMSE)||"",""],"MPEG-DASH":[!("boolean"!=typeof hasMSE||!hasMSE)||"",""],Windows:[!0,!1],HTML:[!0,""]}}if($(function(){$("#radio-no-audio").on("click",function(){"object"==typeof webradioConfig.stream&&$.post(webradioConfig.urlApi+"data/error",{stream_id:webradioConfig.stream.id})})}),$(function(){$.isFunction($.fn.mobileNav)&&$("body").mobileNav({hideOnClickOutside:!0,menuActiveClass:"country-active",menuOpener:".country-opener",menuDrop:".nav-holder"}).mobileNav({hideOnClickOutside:!0,menuActiveClass:"menu-active",menuOpener:".menu-opener",menuDrop:".menu-area"})}),window.SM2_DEFER=!0,$(function(){$("#radio-controls").on("click",".btn-play",function(e){switch(e.preventDefault(),$("#radio-button").attr("alt")){case webradioConfig.txt.play:setButtonStop();var t=soundManager.getSoundById("webradio");"object"==typeof t&&1!==t.playState?(setButtonLoad(),t.options.autoPlay?t.play():t._a.play()):"object"==typeof t&&1===t.playState?bowser.ios&&bowser.osversion.split(".")[0]<10?soundManager.resume("webradio"):soundManager.unmute():(setButtonLoad(),soundManager.reboot(),soundManager.muted&&soundManager.unmute());break;case webradioConfig.txt.start:setButtonLoad();break;case webradioConfig.txt.stop:setButtonPlay(),bowser.ios&&bowser.osversion.split(".")[0]<10?soundManager.pause("webradio"):soundManager.mute()}}).on("click",".ico-sound",function(e){e.preventDefault();var t=$("#radio-slider");"on"===$(this).children(":first").data("state")&&0<t.val()?volume=0:"boolean"==typeof hasStorage&&hasStorage&&(volume=localStorage.getItem("volume_unmute")),t.val(volume).change()})}),$(function(){var e=$("#radio");if(e.length){if(void 0===(i=e.data("station-name"))){var t=$("#radios a"),o=t.first().attr("href").split("#").pop(),a=!0,n=!1,i=window.name||parent.location.hash.substr(1)||o;if(window.name="",i!=o)try{history.replaceState(null,null,"#"+i)}catch(e){window.location.hash=i,n=!0}t.filter("[href='"+window.location.href.split("#").shift()+"#"+i+"']").closest("span").css("border","1px solid #00a0ce"),t.on("click",function(e){e.preventDefault(),"undefined"!=typeof soundManager&&!$.isEmptyObject(soundManager)&&soundManager.reset()&&soundManager.disable(),window.name=$(this).attr("href").split("#").pop(),window.location.href=window.location.href.split("#").shift()}),window.addEventListener&&window.addEventListener("hashchange",function(){n?n=!1:("undefined"!=typeof soundManager&&!$.isEmptyObject(soundManager)&&soundManager.reset()&&soundManager.disable(),window.name=window.location.href.split("#").pop(),window.location.href=window.location.href.split("#").shift())},!1)}getPlayer(i,a)}}),$(function(){var t=$("#search-input-head"),o=$("#search-input-menu");webradioConfig.algolia=randomElement(webradioConfig.algolia);var a=algoliasearch(webradioConfig.algolia.applicationId,webradioConfig.algolia.apiKey).initIndex("webradio");if(t.on("input",function(e){searchQuery(a,$(this).val()),o.val($(this).val())}).closest("form").submit(function(e){e.preventDefault(),t.blur(),gtag("event","page_view",{page_path:"/?q="+encodeURIComponent(t.val())})}),o.closest("form").submit(function(e){e.preventDefault(),searchQuery(a,o.val()),t.val(o.val()),$("#content").find(".menu-opener").trigger("click"),o.blur()}),t.val()){var e=sessionStorage.getItem("search-results");e?($("#search-results").html(e),$("#content-area").hide()):t.trigger("input")}}),$(function(){var e=$.ajaxSetup().cache;$.ajaxSetup({cache:!0}),$.getScript("https://connect.facebook.net/"+webradioConfig.languageCode+"_"+webradioConfig.facebook.countryCode+"/sdk.js").done(function(){"undefined"!=typeof FB&&FB.init({xfbml:!0,version:"v"+webradioConfig.facebook.version})}),window.___gcfg={lang:webradioConfig.languageCode},$.getScript("https://apis.google.com/js/platform.js"),$.getScript("https://platform.twitter.com/widgets.js"),$("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/'+webradioConfig.cookieConsent.version+'/cookieconsent.min.css" crossorigin="anonymous">'),$.getScript("https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/"+webradioConfig.cookieConsent.version+"/cookieconsent.min.js").done(function(){"undefined"!=typeof cookieconsent&&cookieconsent.initialise({palette:{popup:{background:"#002029",link:"#00A0CE"},button:{background:"#FFFFFF",text:"#005F79"},highlight:{background:"#BFCBCE",border:"#000000",text:"#000000"}},content:{message:webradioConfig.txt.cookie,dismiss:webradioConfig.txt.ok,link:webradioConfig.cookieConsent.link,href:webradioConfig.cookieConsent.href},law:{countryCode:webradioConfig.countryCode,regionalLaw:!1},position:"bottom-left"})}),$.ajaxSetup({cache:e})}),$(function(){if($.isFunction($.fn.openClose)){var e=$("#content-area"),t=document.getElementsByClassName("menu-area")[0];e.find(".country-section .box").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,effect:"slide"}),e.find(".open-close").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,effect:"slide",animEnd:function(){"function"==typeof SimpleBar&&new SimpleBar(t).recalculate()}}),$("#content").find(".menu-area .box").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:300,effect:"slide",animEnd:function(){"function"==typeof SimpleBar&&new SimpleBar(t).recalculate()}})}}),$(function(){$("#votes").find("a.vote").on("click",function(e){if(e.preventDefault(),"object"==typeof webradioConfig.station){if(1===webradioConfig.station.voted)return;var t=$(this).find("span");$.post(webradioConfig.urlApi+"data/vote",{station_id:webradioConfig.station.id,vote:t.data("vote")}),t.html((parseInt(t.html(),10)||0)+1),webradioConfig.station.voted=1}})}),!templates)var templates={};templates.player=new Hogan.Template({code:function(e,t,o){var a=this;return a.b(o=o||""),a.s(a.f("stream",e,t,1),e,t,1,0,0,"")||(a.b('<span class="btn-play"><img id="radio-button" src="'),a.b(a.v(a.f("urlStatic",e,t,0))),a.b('images/icon-error.png" alt="'),a.b(a.v(a.d("txt.no_audio",e,t,0))),a.b('" height="18" width="18"></span><span class="txt-no-audio">'),a.b(a.v(a.d("txt.no_audio",e,t,0))),a.b("</span>")),a.s(a.d("stream.useIframe",e,t,1),e,t,0,233,501,"{{ }}")&&(a.rs(e,t,function(e,t,o){o.b('<div id="radio-embed"><iframe src="'),o.b(o.v(o.d("stream.url",e,t,0))),o.b('" frameborder="no" height="480" marginheight="0" marginwidth="0" scrolling="no" sandbox="allow-same-origin allow-scripts" width="320" style="margin-left:-'),o.b(o.v(o.d("stream.posX",e,t,0))),o.b("px;margin-top:-"),o.b(o.v(o.d("stream.posY",e,t,0))),o.b('px;"></iframe></div>')}),e.pop()),a.s(a.d("stream.usePlayer",e,t,1),e,t,0,543,951,"{{ }}")&&(a.rs(e,t,function(e,t,o){o.b('<a class="btn-play" href="#"><img id="radio-button" src="'),o.b(o.v(o.f("urlStatic",e,t,0))),o.b('images/icon-load.gif" alt="'),o.b(o.v(o.d("txt.loading",e,t,0))),o.b('..." height="18" width="18"></a><a class="ico-sound" href="#"><img id="radio-sound" src="'),o.b(o.v(o.f("urlStatic",e,t,0))),o.b('images/icon-sound-on.png" alt="'),o.b(o.v(o.d("txt.mute",e,t,0))),o.b('" height="15" width="15" data-state="on"></a><input type="range" id="radio-slider" aria-label="'),o.b(o.v(o.d("txt.volume",e,t,0))),o.b('" max="100" min="0" step="10" value="100">')}),e.pop()),a.s(a.d("stream.usePopup",e,t,1),e,t,0,992,1270,"{{ }}")&&(a.rs(e,t,function(e,t,o){o.b('<a class="link-external" href="'),o.b(o.v(o.d("stream.url",e,t,0))),o.b('" rel="nofollow noopener" target="_blank"><span class="btn-external"><img id="radio-button" src="'),o.b(o.v(o.f("urlStatic",e,t,0))),o.b('images/icon-open.png" alt="'),o.b(o.v(o.d("txt.popup",e,t,0))),o.b('" height="18" width="18"></span><span class="txt-external">'),o.b(o.v(o.d("txt.popup",e,t,0))),o.b("</span></a>")}),e.pop()),a.s(a.d("stream.useWindows",e,t,1),e,t,0,1312,1620,"{{ }}")&&(a.rs(e,t,function(e,t,o){o.b('<object type="application/x-oleobject" data="'),o.b(o.v(o.d("stream.url",e,t,0))),o.b('" name="MediaPlayer"><param name="autoStart" value="true"><param name="uiMode" value="mini"><embed type="application/x-mplayer2" id="radio-embed" src="'),o.b(o.v(o.d("stream.url",e,t,0))),o.b('" autostart="1" enablecontextmenu="0" height="" showstatusbar="1" width=""></object>')}),e.pop()),a.fl()},partials:{},subs:{}});
//# sourceMappingURL=jquery.main-4.0.25.min.js.map